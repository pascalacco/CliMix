{% extends 'template_base.html' %}


{% block title %} Tableau de bord {% endblock %}


{% block head %}
{{ super() }}


{% endblock %}

{% block navlinks %}
            <a class="navbar-brand">
				Tableau de bord
            </a>

{% endblock %}


{% block content %}
{{ super() }}

<div class="accordion" id = "accordionGroupes">
	{% for groupe, parties in grouplist.items() %}
	<div class="accordion-item">
		<h2 class="accordion-header" id="heading{{ groupe }}">
			<div class="row">

				<div  class="col-11">
				<button class="accordion-button collapsed" type="button"
					data-bs-toggle="collapse" data-bs-target="#collapse{{ groupe }}"
					aria-expanded="false" aria-controls="collapse{{ groupe }}">
					Groupe : {{ groupe }}
				</button>
				</div>
				<div class="col-1" align="center">
					<button class="btn btn-sm btn-info"
                    	type="button"
                    	onclick="go_to_comparer('{{ groupe }}')"
                    	id="comparer{{ groupe }}"
						data-bs-toggle="tooltip"
						data-bs-placement="top"
						title="Comparer les parties sélectionnées de ce groupe"
					>
						<i class="fa fa-chart-line"> </i>
					</button>
				</div>
			</div>
		</h2>
		<div id="collapse{{ groupe }}" class="accordion-collapse collapse"
			 aria-labelledby="heading{{ groupe }}" data-bs-parent="#accordionGroupes">
		<div class="accordion-body">

			{% for partie in parties %}
			<div class="accordion" id="sub{{ groupe }}">
				<div class="accordion-item">
					<h3 class="accordion-header" id="sub-heading{{ groupe }}{{ partie}}">
						<div class="row">
						<div  class="col-10">
						<button class="accordion-button" type="button" data-bs-toggle="collapse"
								data-bs-target="#sub-collapse{{ groupe }}{{ partie}}"
								aria-expanded="false" aria-controls="collapse{{ groupe }}">
						Scénario {{ partie }}
						</button>
						</div>
						<div class="col-2" align="left">
							<row>
							<input type="checkbox" id="check-{{ groupe }}-{{ partie }}" class="Option"
							data-bs-toggle="tooltip"
							data-bs-placement="top"
							title="Sélectionner toutes les équipes de ce scénario.">
							<button class="btn btn-sm btn-danger"
								type="button"
								onclick="effacer('{{ groupe }}-{{ partie }}')"
								id="reset{{ groupe }}"
								data-bs-toggle="tooltip"
								data-bs-placement="top"
								title="Effacer les parties sélectionnées !">
							<i class="fa fa-trash-can"></i>
							</button>
							<button class="btn btn-sm btn-secondary"
								type="button"
								onclick="download('{{ groupe }}')"
								id="download{{ groupe }}"
								data-bs-toggle="tooltip"
								data-bs-placement="right"
								title="Télécharger un zip des parties sélectionnées"
							>
							<i class="fa fa-file-archive"></i>
							</button>
							</row>
						</div>
						</div>
					</h3>
					<div id="sub-collapse{{ groupe }}{{ partie}}"
						 class="accordion-collapse collapse"
						 aria-labelledby="sub-heading{{ groupe }}{{ partie}}"
						 data-bs-parent="#sub{{ groupe }}">
						<div class="accordion-body">
							{% for num, datas in parties[partie].items() %}
							<ul>
							<div class="row left">
								<div class="col-10">
									<div class="progress" id="progress-{{ groupe }}-{{ partie }}-{{num}}">
										<div class="progress-bar progress-bar-striped"
											 role="progressbar"
											 aria-valuenow="{{ datas['annee'] }}"
											 aria-valuemin="2030" aria-valuemax="2050"
											 style="width:{{ datas['percent'] }}%">
											{{ datas['annee'] }}
										</div>
									</div>
									<label for="progress-{{ groupe }}-{{ partie }}-{{num}}">
										Equipe {{ num }}
									</label>
								</div>
								<div class="col-2" align="left">
									{% if datas['annee'] != "-1" %}
									<div calss="row">
										<input type="checkbox"
										   class="subOption"
										   id="check-{{ groupe }}-{{ partie }}-sub{{num}}"
										   data-bs-toggle="tooltip"
										   data-bs-placement="top"
										   title="Sélectionner/délectionner cette équipe.">
										<a href="/saisie/{{ datas['equipe'] }}/{{ partie }}/{{ datas['annee'] }}"
										   class="btn btn-info btn-sm"
										   data-bs-toggle="tooltip"
										   data-bs-placement="top"
										   title="Rejoindre la partie en cours.">
										<i class="fa fa-eye"></i>
										</a>
									</div>
									{% endif %}
								</div>
							</div>
							</ul>
							{%- endfor %}
						</div>
					</div>
				</div>
			</div>
			{%- endfor %}
		</div>
	</div>

	</div>
	{%- endfor %}


</div>
{% endblock%}

{% block endscripts %}

{{ super() }}


<script>

</script>

<script type="text/javascript" src="/static/tableau_de_bord.js"></script>

{% endblock %}



